<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monthly Anniversary Love Letter</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Intro Overlay -->
    <div class="intro-overlay" id="introOverlay">
      <div class="intro-content">
        <div class="intro-heart">
          <svg
            class="heart-svg animated-heart"
            width="110"
            height="100"
            viewBox="0 0 55 50"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            style="display: block; margin: 0 auto"
          >
            <defs>
              <radialGradient
                id="introHeartGradient"
                cx="50%"
                cy="40%"
                r="70%"
                fx="50%"
                fy="30%"
              >
                <stop offset="0%" stop-color="#fff6f6" stop-opacity="0.9" />
                <stop offset="60%" stop-color="#ffb3ba" stop-opacity="0.7" />
                <stop offset="100%" stop-color="#e57373" stop-opacity="1" />
              </radialGradient>
              <filter
                id="introHeartShadow"
                x="-10%"
                y="-10%"
                width="120%"
                height="120%"
              >
                <feDropShadow
                  dx="0"
                  dy="4"
                  stdDeviation="3"
                  flood-color="#e57373"
                  flood-opacity="0.25"
                />
              </filter>
              <linearGradient
                id="introHeartHighlight"
                x1="0"
                y1="0"
                x2="0"
                y2="1"
              >
                <stop offset="0%" stop-color="#fff" stop-opacity="0.7" />
                <stop offset="100%" stop-color="#fff" stop-opacity="0" />
              </linearGradient>
            </defs>
            <path
              d="M27.5 47s-1.7-1.5-4.2-3.6C13.5 35.5 2 26.5 2 16.5 2 8.5 8.5 2 16.5 2c3.9 0 7.6 1.9 11 5.1C30.9 3.9 34.6 2 38.5 2 46.5 2 53 8.5 53 16.5c0 10-11.5 19-21.3 26.9C29.2 45.5 27.5 47 27.5 47z"
              fill="url(#introHeartGradient)"
              stroke="#e57373"
              stroke-width="2"
              filter="url(#introHeartShadow)"
            />
            <ellipse
              cx="19"
              cy="13"
              rx="7"
              ry="3.2"
              fill="url(#introHeartHighlight)"
              opacity="0.7"
            />
          </svg>
        </div>
        <h1 class="intro-title">Happy Girlfriends Day My Love</h1>
        <p class="intro-subtitle">A Special Letter For You</p>
        <div class="intro-envelope">
          <div class="envelope-flap"></div>
          <div class="envelope-body"></div>
          <div class="envelope-letter"></div>
        </div>
        <button class="open-letter-btn" id="openLetterBtn">
          <span>Open My Heart</span>
          <div class="btn-sparkle"></div>
        </button>
      </div>
      <div class="intro-flowers">
        <div class="intro-tulip intro-tulip-1"></div>
        <div class="intro-tulip intro-tulip-2"></div>
        <div class="intro-rose intro-rose-1"></div>
        <div class="intro-rose intro-rose-2"></div>
      </div>
    </div>

    <div class="container" id="mainContent">
      <!-- Floating flowers background -->
      <div class="floating-flowers">
        <div class="tulip tulip-1"></div>
        <div class="tulip tulip-2"></div>
        <div class="tulip tulip-3"></div>
        <div class="rose rose-1"></div>
        <div class="rose rose-2"></div>
        <div class="rose rose-3"></div>
      </div>

      <!-- Main love letter -->
      <div class="love-letter">
        <div class="letter-header">
          <div class="heart-decoration">
            <svg
              class="heart-svg animated-heart"
              width="110"
              height="100"
              viewBox="0 0 55 50"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              style="display: block; margin: 0 auto"
            >
              <defs>
                <radialGradient
                  id="heartGradient"
                  cx="50%"
                  cy="40%"
                  r="70%"
                  fx="50%"
                  fy="30%"
                >
                  <stop offset="0%" stop-color="#fff6f6" stop-opacity="0.9" />
                  <stop offset="60%" stop-color="#ffb3ba" stop-opacity="0.7" />
                  <stop offset="100%" stop-color="#e57373" stop-opacity="1" />
                </radialGradient>
                <filter
                  id="heartShadow"
                  x="-10%"
                  y="-10%"
                  width="120%"
                  height="120%"
                >
                  <feDropShadow
                    dx="0"
                    dy="4"
                    stdDeviation="3"
                    flood-color="#e57373"
                    flood-opacity="0.25"
                  />
                </filter>
                <linearGradient id="heartHighlight" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%" stop-color="#fff" stop-opacity="0.7" />
                  <stop offset="100%" stop-color="#fff" stop-opacity="0" />
                </linearGradient>
              </defs>
              <path
                d="M27.5 47s-1.7-1.5-4.2-3.6C13.5 35.5 2 26.5 2 16.5 2 8.5 8.5 2 16.5 2c3.9 0 7.6 1.9 11 5.1C30.9 3.9 34.6 2 38.5 2 46.5 2 53 8.5 53 16.5c0 10-11.5 19-21.3 26.9C29.2 45.5 27.5 47 27.5 47z"
                fill="url(#heartGradient)"
                stroke="#e57373"
                stroke-width="2"
                filter="url(#heartShadow)"
              />
              <ellipse
                cx="19"
                cy="13"
                rx="7"
                ry="3.2"
                fill="url(#heartHighlight)"
                opacity="0.7"
              />
            </svg>
          </div>
          <h1 class="title">Happy Girlfriends Day lovelove</h1>
          <div class="subtitle">A Letter for You</div>
        </div>

        <div class="letter-content">
          <div class="date">
            <span id="current-date"></span>
          </div>

          <div class="greeting">
            <span class="highlight">Dear LoveLove,</span>
          </div>

          <div class="message">
            <p class="paragraph fade-in">
              Hello lovelove. Happy Girlfriends Day po! Masaya po ako at sa araw
              na 'to and'yan kana bilang partner, gf ko. Sabi ko nga hindi kita
              hiniling pero binigay ka n'ya ka sa'kin. Salamat love sa
              pagtanggap at pagmamahal super na-appreciate ko po lahat ng
              pinapakita at pinaparamdam mo sa'kin. Hindi ko po akalain na
              andito na tayo sa part na 'to ngayon marami ka po binago sa'kin na
              nakabuti sa'kin bilang ako nabago at binago ko po ang ibang
              pananaw at ugali ko dahil po sayo maraming salamat po sa lahat
              dahil kong hindi po dahil sayo hindi ako ganto ka-kalmado no'ng
              wala ka pa po super ako mag-overthink tapos ibang-iba talaga ugali
              ko pero dahil po sayo nabago at naging better person po ako hindi
              lang para sa sarili kundi para rin po sayo at sa relationship
              natin ngayon, mahal na mahal po kita alam mo po 'yan pero gan'to
              pala kapag minahal ka rin ng pabalik lahat ng tiwala ko kaya ko
              ibigay sayo alam mo po 'yan pero may mga times rin po na syempre
              magseselos ako at mag-overthink parin alam mo naman po kong gaano
              ako katakot na mawala ka at super important mo po sa'kin. Kahit
              ibang plans natin is hindi matupad dahil nagbabago ang mga
              bagay-bagay pero isa lang ang hinding-hindi magbabago 'yon ay ang
              pagmamahal ko sayo. Kahit ano pa mangyari at kahit anong maging
              desisyon mo sa lahat kasama mo ako, ako ang pinaka kakampi at
              kasama mo sa lahat no. 1 ako d'yan. Basta tutuparin natin lahat ng
              magkasama kahit saan tayo makarating o kahit anong challenges ang
              pagdaanan natin wag na wag tayo maghihiwalay tayo, kahinaan at
              kalakasan kita boss hindi talaga mag-function kapag nawala ka
              sa'kin boss. Basta sa december kapag hindi kaya, kahit 1 day lang
              po kasama ka tapos sa church tayo ha masaya na po ako nun and
              gagawin po natin na super special ng araw na 'yon me po bahala
              i'll make sure po 'yan. Mas gagalingan ko pa po sa lahat para sa
              future natin hindi man ako 'yong best na lalaki na kaya ang lahat
              basta po ang maipagmamalaki ko lang is totoo at tunay po ang love
              ko for you and mabuti po ang intensyon ko sayo at gagawin lahat ng
              makakaya ko para mapasaya ka at magtagal ang relationship natin.
              Wala na akong hihilingin pa kasi lahat ng mga wish, plans and
              goals ko sa buhay ay kasama kana gagawan natin ng actions para
              mangyari lahat ng 'yon. Love, salamat kasi pinili mong manatili.
              Sa kabila ng flaws ko, insecurities, at overthinking —
              pinaparamdam mo sa’kin na sapat ako, na deserving ako ng
              pagmamahal. Hindi ko man laging maipakita perfectly kung gaano
              kita kamahal, pero araw-araw sinisigurado kong maramdaman mo ‘yon
              sa mga actions ko, sa mga pangarap ko na kasama ka, at sa lahat ng
              dasal ko na palagi kang kasama. Alam kong hindi perpekto ang
              lahat, may mga panahon talaga na mahirap, na may tampuhan o
              lungkot — pero love, promise ko, kahit anong pagdaanan natin,
              hindi kita bibitawan. Lalaban ako para sa’tin. Kasi ikaw na talaga
              ang tahanan ko. Sa’yo ko lang naramdaman ‘yung peace. Sa mga
              darating pa na araw, buwan, taon — ikaw pa rin. Gusto kong sabay
              nating abutin lahat ng pangarap natin. Alam mo love, minsan
              naiisip ko na ang swerte ko talaga kasi ikaw ‘yung naging partner
              ko. Hindi ko man alam kung anong ginawa kong tama para ibigay ka
              sa'kin ni Lord, pero sobrang thankful ako kasi ikaw ‘yung napunta
              sa buhay ko sa panahong hindi ko inaasahan pero sobrang kailangan
              ko pala. Isa kang answered prayer na hindi ko hiningi, pero
              ipinagkaloob sa’kin ng buong buo. Minsan naiisip ko rin kung paano
              kaya ang buhay ko kung hindi kita nakilala — siguro hindi ako
              ganito katahimik, ganito ka-inspire magpursige, at ganito kasaya.
              Ang dami mong binago sa mundo ko, at hindi ko na alam kung paano
              ko ipapaliwanag pa lahat ng ‘yon. Basta ang alam ko lang, hindi na
              ako kumpleto kapag wala ka. Parang ikaw na ‘yung missing piece sa
              buhay kong dati akala ko okay na, pero mas naging buo nung
              dumating ka. Alam kong may mga araw na hindi ako okay, at minsan
              hindi ko rin kayang maging best version ng sarili ko. Pero love,
              gusto kong malaman mo na araw-araw kong pinipiling mahalin ka.
              Kahit sa mga panahong pagod ako, tahimik ako, o parang malayo ako
              — hindi ‘yon dahil sa’yo. Dahil kung meron man akong tahanan at
              sandalan, ikaw ‘yon. Sa puso mo ako uuwi palagi. Love, wala akong
              ibang hinihiling kundi ‘yung future na magkasama tayong dalawa.
              Kahit saan man tayo dalhin ng buhay, gusto ko ikaw pa rin ‘yung
              katabi ko — sa hirap, sa saya, sa tagumpay, sa pagod, at sa mga
              simpleng araw na kahit hindi tayo magkasama. At balang araw, kapag
              natupad na lahat ng pangarap natin, babalikan natin ‘tong mga
              panahong ‘to na puro pangarap pa lang — at sasabihin nating,
              “Kinaya natin, kasi magkasama tayo.”. At love, hindi ko man
              maibigay agad lahat ng magagarbong bagay, pero isa lang ang
              maipapangako ko — buong puso ko, buong pagkatao ko, buong
              pagmamahal ko, ibibigay ko sa’yo. Araw-araw. Hanggang sa tumanda
              tayo. Kapag pagod ka na, pahinga ka sa’kin. Kapag naguguluhan ka
              na, ako ang magiging sandalan mo sa lahat. Na-realize ko rin love
              na habang tumatagal, mas lalo kitang minamahal — hindi dahil sa
              kung ano lang ang pinapakita mo, kundi dahil sa kung sino ka
              talaga. Kahit ano ipakita mo sa'kin, lalona 'yong ano, ay
              hehehehe, lalo akong nahuhulog sa'yo. Yung totoo, hindi lang kita
              mahal... pinaramdam mo sa’kin kung ano talaga ang ibig sabihin ng
              pagmamahal — ‘yung may respeto, tiwala, lambing, at
              higit sa lahat, pagpili. Kasi araw-araw, pinipili mo ako. At
              araw-araw, pinipili rin kita. At pipiliin pa rin kita bukas, at sa
              bawat bukas na darating. Sa huli, ito lang ang gusto kong malaman
              mo,<br /><br />
              Ikaw ang mahal ko.<br />
              Ikaw ang pipiliin ko.<br />
              Ikaw ang kasabay ko sa lahat ng laban.<br />
              Ikaw ang panalangin ko, pangarap ko, at buong puso kong mahal.<br />
              Hanggang dulo, ikaw lang. Palagi.<br /><br />
              I love you so much lovelove ko. muuuuuuaaaaaahhhhhh.
            </p>
          </div>

          <div class="signature fade-in">
            <div class="love-text">With all my love,</div>
            <div class="name">CJay❤️</div>
          </div>
        </div>

        <!-- Decorative flower borders -->
        <div class="flower-border top-border">
          <div class="border-flower tulip-border"></div>
          <div class="border-flower rose-border"></div>
          <div class="border-flower tulip-border"></div>
        </div>

        <div class="flower-border bottom-border">
          <div class="border-flower rose-border"></div>
          <div class="border-flower tulip-border"></div>
          <div class="border-flower rose-border"></div>
        </div>
      </div>

      <!-- Interactive elements -->
      <div class="interactive-hearts">
        <div class="interactive-heart" data-message="I love you!"></div>
        <div class="interactive-heart" data-message="You're amazing!"></div>
        <div class="interactive-heart" data-message="Forever yours!"></div>
      </div>

      <!-- Modern Music Player Section -->
      <div class="music-player-modern" id="musicPlayer">
        <div class="playlist-modern">
          <div class="album-title">All These and More (2024)</div>
          <div
            class="song-item"
            data-src="music/Be With You.mp3"
            data-title="Be With You"
            data-artist="The Ridleys"
          >
            <div class="song-title">Be With You</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/KYGM.mp3"
            data-title="KYGM"
            data-artist="The Ridleys"
          >
            <div class="song-title">KYGM</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Strangest Love.mp3"
            data-title="Strangest Love"
            data-artist="The Ridleys"
          >
            <div class="song-title">Strangest Love</div>
            <div class="song-artist">The Ridleys</div>
          </div>

          <div class="album-title">
            Reflections on Moonlight & Poetry (2019)
          </div>
          <div
            class="song-item"
            data-src="music/The Ridleys - Aphrodite (Lyric Video).mp3"
            data-title="Aphrodite"
            data-artist="The Ridleys"
          >
            <div class="song-title">Aphrodite</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Meaningful Silence.mp3"
            data-title="Meaningful Silence"
            data-artist="The Ridleys"
          >
            <div class="song-title">Meaningful Silence</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Germany & Rome.mp3"
            data-title="Germany & Rome"
            data-artist="The Ridleys"
          >
            <div class="song-title">Germany & Rome</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/DYWTBM.mp3"
            data-title="DYWTBM"
            data-artist="The Ridleys"
          >
            <div class="song-title">DYWTBM</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Maybe.mp3"
            data-title="Maybe"
            data-artist="The Ridleys"
          >
            <div class="song-title">Maybe</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Starlit Ocean.mp3"
            data-title="Starlit Ocean"
            data-artist="The Ridleys"
          >
            <div class="song-title">Starlit Ocean</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Stay.mp3"
            data-title="Stay"
            data-artist="The Ridleys"
          >
            <div class="song-title">Stay</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Cold Feet.mp3"
            data-title="Cold Feet"
            data-artist="The Ridleys"
          >
            <div class="song-title">Cold Feet</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Raconteur.mp3"
            data-title="Raconteur"
            data-artist="The Ridleys"
          >
            <div class="song-title">Raconteur</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Rorschach Blots.mp3"
            data-title="Rorschach Blots"
            data-artist="The Ridleys"
          >
            <div class="song-title">Rorschach Blots</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Take Our Time.mp3"
            data-title="Take Our Time"
            data-artist="The Ridleys"
          >
            <div class="song-title">Take Our Time</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Troubadour.mp3"
            data-title="Troubadour"
            data-artist="The Ridleys"
          >
            <div class="song-title">Troubadour</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/IntroOutro.mp3"
            data-title="Intro/Outro"
            data-artist="The Ridleys"
          >
            <div class="song-title">Intro/Outro</div>
            <div class="song-artist">The Ridleys</div>
          </div>

          <div class="album-title">Aphrodite EP (2016)</div>
          <div
            class="song-item"
            data-src="music/Yvaine.mp3"
            data-title="Yvaine"
            data-artist="The Ridleys"
          >
            <div class="song-title">Yvaine</div>
            <div class="song-artist">The Ridleys</div>
          </div>

          <div class="album-title">Until I Reach the Sun, Vol. 1 (2022)</div>
          <div
            class="song-item"
            data-src="music/The Ridleys - Summertown (Lyrics).mp3"
            data-title="Summertown"
            data-artist="The Ridleys"
          >
            <div class="song-title">Summertown</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/It All Makes Sense (Official Audio).mp3"
            data-title="It All Makes Sense"
            data-artist="The Ridleys"
          >
            <div class="song-title">It All Makes Sense</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Prodigal's Anthem (Official Audio).mp3"
            data-title="Prodigal's Anthem"
            data-artist="The Ridleys"
          >
            <div class="song-title">Prodigal's Anthem</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/When a Man Touches the Sun (Official Audio).mp3"
            data-title="When a Man Touches the Sun"
            data-artist="The Ridleys"
          >
            <div class="song-title">When a Man Touches the Sun</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Home.mp3"
            data-title="Home"
            data-artist="The Ridleys"
          >
            <div class="song-title">Home</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Wonderland.mp3"
            data-title="Wonderland"
            data-artist="The Ridleys"
          >
            <div class="song-title">Wonderland</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Return.mp3"
            data-title="Return"
            data-artist="The Ridleys"
          >
            <div class="song-title">Return</div>
            <div class="song-artist">The Ridleys</div>
          </div>

          <div class="album-title">Until I Reach the Sun, Vol. 2 (2023)</div>
          <div
            class="song-item"
            data-src="music/The Ridleys - Looking For (Official Audio).mp3"
            data-title="Looking For"
            data-artist="The Ridleys"
          >
            <div class="song-title">Looking For</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Running to Vancouver (Official Audio).mp3"
            data-title="Running to Vancouver"
            data-artist="The Ridleys"
          >
            <div class="song-title">Running to Vancouver</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Icarus.mp3"
            data-title="Icarus"
            data-artist="The Ridleys"
          >
            <div class="song-title">Icarus</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Milkyway - The Ridleys (Official Lyric Video).mp3"
            data-title="Milkyway"
            data-artist="The Ridleys"
          >
            <div class="song-title">Milkyway</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Constantly.mp3"
            data-title="Constantly"
            data-artist="The Ridleys"
          >
            <div class="song-title">Constantly</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Lagoon.mp3"
            data-title="Lagoon"
            data-artist="The Ridleys"
          >
            <div class="song-title">Lagoon</div>
            <div class="song-artist">The Ridleys</div>
          </div>
          <div
            class="song-item"
            data-src="music/Let Me Go, Loneliness.mp3"
            data-title="Let Me Go, Loneliness"
            data-artist="The Ridleys"
          >
            <div class="song-title">Let Me Go, Loneliness</div>
            <div class="song-artist">The Ridleys</div>
          </div>
        </div>
        <!-- Mini Player at bottom -->
        <div class="mini-player" id="miniPlayer">
          <div class="mini-info">
            <span class="mini-title" id="miniTitle">Select a song</span>
            <span class="mini-artist" id="miniArtist"></span>
          </div>
          <button class="mini-btn" id="miniPlayPause">
            <span id="miniPlayPauseIcon">▶️</span>
          </button>
        </div>
      </div>

      <!-- Audio element for music playback -->
      <audio id="musicAudio" preload="metadata">
        <source src="" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <!-- Falling petals animation -->
      <div class="petals-container">
        <div class="petal petal-1"></div>
        <div class="petal petal-2"></div>
        <div class="petal petal-3"></div>
        <div class="petal petal-4"></div>
        <div class="petal petal-5"></div>
        <div class="petal petal-6"></div>
      </div>
    </div>

    <!-- Audio element for romantic background music -->
    <audio id="background-music" loop>
      <source
        src="https://www.soundjay.com/misc/sounds/romantic-music.mp3"
        type="audio/mpeg"
      />
    </audio>

    <script src="script.js"></script>
    <script>
      // Prevent letter from auto-opening: show intro overlay until button is clicked
      document.addEventListener("DOMContentLoaded", function () {
        const introOverlay = document.getElementById("introOverlay");
        const mainContent = document.getElementById("mainContent");
        const openLetterBtn = document.getElementById("openLetterBtn");

        // Hide main content initially, show overlay
        mainContent.classList.remove("revealed");
        introOverlay.classList.remove("hide");

        openLetterBtn.addEventListener("click", function () {
          introOverlay.classList.add("hide");
          setTimeout(() => {
            mainContent.classList.add("revealed");
          }, 400);
        });

        // Modern music player logic
        const playlist = Array.from(
          document.querySelectorAll(".playlist-modern .song-item")
        );
        const audio = document.getElementById("musicAudio");
        const miniPlayer = document.getElementById("miniPlayer");
        const miniTitle = document.getElementById("miniTitle");
        const miniArtist = document.getElementById("miniArtist");
        const miniPlayPause = document.getElementById("miniPlayPause");
        const miniPlayPauseIcon = document.getElementById("miniPlayPauseIcon");
        let currentSongIndex = -1;
        let isPlaying = false;

        function updateMiniPlayer(index) {
          if (index < 0 || index >= playlist.length) {
            miniTitle.textContent = "Select a song";
            miniArtist.textContent = "";
            miniPlayer.classList.remove("active");
            return;
          }
          const item = playlist[index];
          miniTitle.textContent = item.getAttribute("data-title") || "";
          miniArtist.textContent = item.getAttribute("data-artist") || "";
          miniPlayer.classList.add("active");
        }

        function playSongAtIndex(index) {
          if (index < 0 || index >= playlist.length) return;
          audio.pause();
          audio.currentTime = 0;
          playlist.forEach((el) => el.classList.remove("active"));
          const item = playlist[index];
          item.classList.add("active");
          const src = item.getAttribute("data-src");
          if (src) {
            audio.src = src;
            audio.load();
            currentSongIndex = index;
            updateMiniPlayer(index);
            audio.play();
          }
        }

        playlist.forEach((item, idx) => {
          item.addEventListener("click", function () {
            playSongAtIndex(idx);
          });
        });

        miniPlayPause.addEventListener("click", function () {
          if (currentSongIndex === -1) return;
          if (audio.paused) {
            audio.play();
          } else {
            audio.pause();
          }
        });

        audio.addEventListener("play", function () {
          isPlaying = true;
          miniPlayPauseIcon.textContent = "⏸️";
        });
        audio.addEventListener("pause", function () {
          isPlaying = false;
          miniPlayPauseIcon.textContent = "▶️";
        });
        audio.addEventListener("ended", function () {
          miniPlayPauseIcon.textContent = "▶️";
        });
      });
    </script>
  </body>
</html>
